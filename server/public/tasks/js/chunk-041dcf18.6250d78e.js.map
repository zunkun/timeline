{"version":3,"sources":["webpack:///./src/views/Projects.vue?714c","webpack:///src/views/Projects.vue","webpack:///./src/views/Projects.vue?ebf0","webpack:///./src/views/Projects.vue?ce83","webpack:///./src/views/Projects.vue?beb6"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","size","plain","type","on","click","$event","visible","_v","gutter","_l","project","projectIndex","key","span","style","border-color","color","shadow","to","name","params","_s","edit","description","title","currentProject","width","update:visible","ref","model","rules","label-width","label-position","label","prop","value","callback","$$v","$set","expression","placeholder","$store","state","constants","projectType","slot","rows","deleteProject","_e","saveProject","staticRenderFns","Projectsvue_type_script_lang_js_","data","baseUrl","currentIndex","projects","required","message","trigger","min","max","pattern","page","limit","count","methods","newProject","_this","$refs","projectform","validate","valid","updateProject","createProject","url","concat","fetch","method","body","stringify_default","headers","content-type","_this2","then","_ref","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","_project","_projects","wrap","_context","prev","next","ok","json","sent","stop","_x","apply","arguments","getProjects","_this3","catch","error","console","log","_this4","_ref2","_callee2","_context2","splice","_x2","created","views_Projectsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-041dcf18.6250d78e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"projects\"}},[_c('el-row',[_c('div',{staticClass:\"p-head\"},[_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"type\":\"success\"},on:{\"click\":function($event){_vm.visible=true}}},[_vm._v(\"新增项目\")])],1)]),_c('el-row',{staticClass:\"project-wrapper\",attrs:{\"gutter\":10}},_vm._l((_vm.projects),function(project,projectIndex){return _c('el-col',{key:project.id,staticClass:\"project-z\",attrs:{\"span\":6}},[_c('el-card',{style:({'border-color': project.color}),attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"project-title\"},[_c('router-link',{attrs:{\"to\":{name: 'project', params: {id: project.id}}}},[_c('span',{staticClass:\"project-n\"},[_vm._v(_vm._s(project.name))])]),_c('span',{staticClass:\"project-button\",on:{\"click\":function($event){return _vm.edit(project, projectIndex)}}},[_vm._v(\"编辑\")])],1),_c('p',[_c('span',{staticClass:\"project-d\"},[_vm._v(_vm._s(project.description))])])])],1)}),1),_c('el-dialog',{attrs:{\"title\":_vm.currentProject.title ||'项目编辑',\"visible\":_vm.visible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"projectform\",attrs:{\"model\":_vm.currentProject,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"right\",\"id\":\"projectform\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.currentProject.name),callback:function ($$v) {_vm.$set(_vm.currentProject, \"name\", $$v)},expression:\"currentProject.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类别\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择类别\"},model:{value:(_vm.currentProject.type),callback:function ($$v) {_vm.$set(_vm.currentProject, \"type\", $$v)},expression:\"currentProject.type\"}},_vm._l((_vm.$store.state.constants.projectTypes),function(projectType){return _c('el-option',{key:projectType.type,attrs:{\"label\":projectType.name,\"value\":projectType.type}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"颜色\",\"prop\":\"color\"}},[_c('el-input',{staticClass:\"color-i\",attrs:{\"placeholder\":\"输入颜色\"},model:{value:(_vm.currentProject.color),callback:function ($$v) {_vm.$set(_vm.currentProject, \"color\", $$v)},expression:\"currentProject.color\"}},[_c('template',{slot:\"append\"},[_c('el-color-picker',{staticClass:\"color-p\",model:{value:(_vm.currentProject.color),callback:function ($$v) {_vm.$set(_vm.currentProject, \"color\", $$v)},expression:\"currentProject.color\"}})],1)],2)],1),_c('el-form-item',{attrs:{\"label\":\"说明\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.currentProject.description),callback:function ($$v) {_vm.$set(_vm.currentProject, \"description\", $$v)},expression:\"currentProject.description\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.currentProject.id)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.deleteProject}},[_vm._v(\"删 除\")]):_vm._e(),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.saveProject}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"projects\">\n    <el-row>\n      <div class=\"p-head\">\n        <el-button size=\"small\" plain type=\"success\" @click=\"visible=true\">新增项目</el-button>\n      </div>\n    </el-row>\n    <el-row :gutter=\"10\" class=\"project-wrapper\">\n      <el-col :span=\"6\" v-for=\"(project, projectIndex) in projects\" :key=\"project.id\" class=\"project-z\">\n        <el-card shadow=\"hover\" :style=\"{'border-color': project.color}\">\n          <div class=\"project-title\">\n            <router-link :to=\"{name: 'project', params: {id: project.id}}\">\n              <span class=\"project-n\">{{project.name}}</span>\n            </router-link>\n            <span class=\"project-button\" @click=\"edit(project, projectIndex)\">编辑</span>\n          </div>\n          <p><span class=\"project-d\">{{project.description}}</span></p>\n        </el-card>\n      </el-col>\n    </el-row>\n    <el-dialog :title=\"currentProject.title ||'项目编辑'\" :visible.sync=\"visible\" width=\"50%\">\n      <el-form ref=\"projectform\" :model=\"currentProject\" :rules=\"rules\" label-width=\"80px\" label-position=\"right\"\n        id=\"projectform\">\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input v-model=\"currentProject.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"类别\" prop=\"type\">\n          <el-select v-model=\"currentProject.type\" placeholder=\"选择类别\">\n            <el-option :label=\"projectType.name\" :value=\"projectType.type\"\n              v-for=\"projectType in $store.state.constants.projectTypes\" :key=\"projectType.type\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"颜色\" prop=\"color\">\n          <el-input placeholder=\"输入颜色\" v-model=\"currentProject.color\" class=\"color-i\">\n            <template slot=\"append\">\n              <el-color-picker v-model=\"currentProject.color\" class=\"color-p\"></el-color-picker>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"说明\" prop=\"description\">\n          <el-input type=\"textarea\" :rows=\"3\" v-model=\"currentProject.description\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" type=\"danger\" plain @click=\"deleteProject\" v-if=\"currentProject.id\">删 除</el-button>\n        <el-button size=\"small\" type=\"warning\" plain @click=\"visible = false\">取 消</el-button>\n        <el-button size=\"small\" type=\"success\" plain @click=\"saveProject\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'projects',\n    data() {\n      return {\n        baseUrl: '/tasks/api/projects',\n        visible: false,\n        currentProject: {\n          color: '#cf9236',\n          type: 'project'\n        },\n        currentIndex: 0,\n        projects: [],\n        rules: {\n          name: [{\n              required: true,\n              message: '请输入项目名称',\n              trigger: 'blur'\n            },\n            {\n              min: 2,\n              max: 10,\n              message: '长度在 2 到 10 个字符',\n              trigger: 'blur'\n            }\n          ],\n          type: [{\n            required: true,\n            message: '请选择类型',\n            trigger: 'blur',\n          }],\n          color: [{\n            required: true,\n            message: '输入颜色',\n            trigger: 'blur'\n          }, {\n            type: 'string',\n            pattern: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,\n            message: '请输入正确的hex颜色值',\n            trigger: 'blur'\n          }],\n          description: [{\n              required: true,\n              message: '请输入项目说明',\n              trigger: 'blur'\n            },\n            {\n              min: 2,\n              max: 10,\n              message: '长度在 2 到 10 个字符',\n              trigger: 'blur'\n            }\n          ],\n        },\n        page: 1,\n        limit: 20,\n        count: 0,\n      }\n    },\n    methods: {\n      newProject() {\n        this.currentProject = {\n          color: '#cf9236',\n          type: 'project'\n        };\n        this.currentIndex = 0;\n        this.visible = false;\n      },\n      saveProject() {\n        this.$refs.projectform.validate(valid => {\n          if (!valid) return;\n          if (this.currentProject.id) {\n            return this.updateProject(this.currentProject);\n          }\n          return this.createProject(this.currentProject);\n        });\n        this.newProject();\n      },\n      updateProject(project) {\n        let url = `${this.baseUrl}/${project.id}`;\n        fetch(url, {\n          method: 'PUT',\n          body: JSON.stringify(project),\n          headers: {\n            'content-type': 'application/json'\n          },\n        });\n      },\n      createProject(project) {\n        let url = `${this.baseUrl}/`;\n        fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(project),\n            headers: {\n              'content-type': 'application/json'\n            },\n          })\n          .then(async res => {\n            if (res.ok) {\n              let _project = await res.json();\n              let _projects = [_project];\n              this.projects = _projects.concat(this.projects);\n            }\n          });\n      },\n      getProjects(type) {\n        let url = `${this.baseUrl}/?limit=${this.limit}&page=${this.page}`\n        if (type) {\n          url = `${url}&type=${type}`\n        }\n        fetch(url)\n          .then(res => {\n            if (res.ok) {\n              return res.json();\n            }\n            throw '获取项目列表失败';\n          })\n          .then(data => {\n            if (!data) return;\n            this.count = data.count || 0;\n            this.projects = data.rows || [];\n          })\n          .catch(error => console.log(error));\n      },\n      edit(project, projectIndex) {\n        this.projectIndex = projectIndex || 0;\n        this.currentProject = project;\n        this.visible = true;\n      },\n      deleteProject() {\n        if(!this.currentProject.id) return;\n         let url = `${this.baseUrl}/${this.currentProject.id}`;\n        fetch(url, {\n            method: 'DELETE'\n          })\n          .then(async res => {\n            if (res.ok) {\n              this.projects.splice(this.currentIndex, 1);\n              this.newProject()            \n            }\n          });\n      },\n    },\n    created() {\n      this.getProjects();\n    }\n  }\n</script>\n\n<style>\n  .p-head {\n    text-align: right;\n    padding: 4px;\n  }\n\n  #projectform {\n    margin-right: 4px;\n  }\n\n  .el-select {\n    width: 100%;\n  }\n\n  .el-color-picker__trigger {\n    padding: 0;\n    border: none;\n  }\n\n  .el-input-group__append,\n  .el-input-group__prepend {\n    padding: 0;\n    background-color: #fff;\n    border: none;\n  }\n\n  .color-d {\n    height: 24px;\n    cursor: pointer;\n    border-radius: 2px;\n  }\n\n  .project-wrapper {\n    padding: 10px;\n  }\n\n  .project-z {\n    margin-top: 10px;\n    padding: 0px 10px;\n    cursor: pointer;\n  }\n\n  .project-n {\n    color: #67C23A;\n  }\n\n  .project-d {\n    font-size: 0.8rem;\n    max-width: 20px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .project-button {\n    float: right;\n    color: green;\n    font-size: 1rem;\n  }\n\n  .e-card {\n    cursor: pointer;\n  }\n\n  .el-card__body {\n    padding: 10px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Projects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Projects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Projects.vue?vue&type=template&id=e9b9b46c&\"\nimport script from \"./Projects.vue?vue&type=script&lang=js&\"\nexport * from \"./Projects.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Projects.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Projects.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Projects.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}